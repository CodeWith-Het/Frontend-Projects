:root {
    --bg-dark: #1e1e1e;
    --bg-header: #2c2c2c;
    --bg-canvas: #e5e5e5;
    --text-main: #ffffff;
    --text-muted: #a1a1a1;
    --accent-blue: #3b82f6;
    --border-color: #444;
}

* { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
    font-family: sans-serif;
}

body { 
    height: 100vh; 
    display: flex; 
    flex-direction: column; 
    overflow: hidden; 
    background-color: var(--bg-dark); 
    color: var(--text-main); 
}

/* --- Toolbar --- */
.toolbar {
    height: 48px; 
    background-color: $bg-header; 
    border-bottom: 1px solid #000;
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 0 16px;
    
    .logo { 
        color: $text-main; 
        font-weight: bold; 
        display: flex; 
        align-items: center; 
        gap: 8px; 
    }
    
    .tools-group {
        display: flex; 
        gap: 8px; 
        align-items: center;
        
        .divider { 
            width: 1px; 
            height: 20px; 
            background: #555; 
        }
        
        .tool-btn {
            width: 32px; 
            height: 32px; 
            border-radius: 4px; 
            border: none; 
            background: transparent; 
            color: $text-muted; 
            cursor: pointer; 
            font-size: 16px; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            
            &:hover { 
                background: rgba(255,255,255,0.1); 
                color: white; 
            }
            
            &.active { 
                background: $accent-blue; 
                color: white; 
            }
        }
    }
    
    .action-btn { 
        background: none; 
        border: none; 
        color: #ff4d4d; 
        cursor: pointer; 
        font-size: 18px; 
    }
}

/* --- Workspace --- */
.workspace { 
    flex: 1; 
    display: flex; 
    
    .sidebar {
        width: 240px; 
        background-color: $bg-dark; 
        border-right: 1px solid $border-color; 
        display: flex; 
        flex-direction: column;
        
        &.right { 
            border-right: none; 
            border-left: 1px solid $border-color; 
        }
        
        .sidebar-header { 
            padding: 10px 16px; 
            font-size: 12px; 
            font-weight: bold; 
            border-bottom: 1px solid $border-color; 
            text-transform: uppercase; 
            color: $text-muted; 
        }
        
        .layers-list {
            list-style: none; 
            padding: 10px; 
            overflow-y: auto;
            
            .layer-item {
                padding: 8px; 
                font-size: 13px; 
                color: $text-muted; 
                cursor: pointer; 
                border-radius: 4px; 
                display: flex; 
                align-items: center; 
                gap: 8px;
                
                &:hover { 
                    background: rgba(255,255,255,0.05); 
                }
                
                &.active { 
                    background: rgba($accent-blue, 0.2); 
                    color: white; 
                    border-left: 3px solid $accent-blue; 
                }
            }
        }

        .properties-group {
            padding: 16px; 
            border-bottom: 1px solid $border-color;
            
            &.grid-2 { 
                display: grid; 
                grid-template-columns: 1fr 1fr; 
                gap: 10px; 
            }
            
            .input-wrap {
                display: flex; 
                align-items: center; 
                gap: 8px;
                
                label { 
                    font-size: 12px; 
                    color: $text-muted; 
                    width: 15px; 
                }
                
                input { 
                    width: 100%; 
                    background: #333; 
                    border: 1px solid transparent; 
                    color: white; 
                    padding: 4px; 
                    border-radius: 4px; 
                    outline: none; 
                    font-size: 12px; 
                }
            }

            .color-row {
                display: flex; 
                gap: 8px; 
                align-items: center;
                
                .color-input { 
                    width: 30px; 
                    height: 30px; 
                    border: none; 
                    background: none; 
                    cursor: pointer; 
                }
                
                .hex-input { 
                    flex: 1; 
                    background: #333; 
                    border: none; 
                    color: white; 
                    padding: 6px; 
                    border-radius: 4px; 
                    text-transform: uppercase; 
                }
            }
        }
    }

    .canvas-wrapper {
        flex: 1; 
        background-color: $bg-canvas; 
        position: relative; 
        overflow: auto; 
        display: flex; 
        justify-content: center; 
        align-items: center;
        
        #canvas { 
            width: 100%; 
            height: 100%; 
            position: relative; 
        }
    }
}

/* --- ELEMENTS & SHAPES --- */
.element {
    position: absolute; 
    cursor: grab;
    
    /* Selection Border */
    &.selected {
        outline: 2px solid $accent-blue;
        .handle { display: block; }
    }
    
    &:active { cursor: grabbing; }

    /* Resize Handles */
    .handle {
        width: 10px; 
        height: 10px; 
        background: white; 
        border: 1px solid $accent-blue; 
        position: absolute; 
        display: none; 
        z-index: 100;
        
        &.tl { top: -6px; left: -6px; cursor: nwse-resize; }
        &.tr { top: -6px; right: -6px; cursor: nesw-resize; }
        &.bl { bottom: -6px; left: -6px; cursor: nesw-resize; }
        &.br { bottom: -6px; right: -6px; cursor: nwse-resize; }
    }

    /* Shape Styles */
    &.circle { border-radius: 50%; }
    
    &.triangle { 
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%); 
    }
    
    &.star { 
        clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%); 
    }
    
    &.line { 
        .handle { 
            background: $accent-blue; 
            border-radius: 50%; 
        } 
        /* Line ke liye sirf left/right handles */
        .handle.tl, .handle.tr { display: none; } 
    }
}